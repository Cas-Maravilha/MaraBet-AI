â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     COMANDOS ÃšTEIS POSTGRESQL - REFERÃŠNCIA RÃPIDA          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š COMANDOS MAIS USADOS NO PSQL:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

\l          -- Listar todos os bancos de dados
\du         -- Listar todos os usuÃ¡rios
\dt         -- Listar tabelas do schema atual
\d tabela   -- Descrever estrutura de uma tabela
\c banco    -- Conectar a um banco especÃ­fico
\conninfo   -- InformaÃ§Ãµes da conexÃ£o atual
\q          -- Sair do psql

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” COMANDOS DE INSPEÃ‡ÃƒO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

\l+         -- Listar bancos com detalhes (tamanho, etc)
\du+        -- Listar usuÃ¡rios com detalhes
\dt+        -- Listar tabelas com detalhes
\d+         -- Listar tudo com detalhes
\dn         -- Listar schemas
\di         -- Listar Ã­ndices
\dv         -- Listar views
\df         -- Listar funÃ§Ãµes
\dx         -- Listar extensÃµes

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ COMANDOS DE FORMATAÃ‡ÃƒO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

\x          -- Ativar/desativar modo expandido (vertical)
\timing     -- Ativar/desativar exibiÃ§Ã£o de tempo de execuÃ§Ã£o
\pset       -- Configurar formataÃ§Ã£o de saÃ­da
\copy       -- Copiar dados de/para arquivo

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â“ AJUDA:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

\h          -- Ajuda geral
\h COMANDO  -- Ajuda de um comando especÃ­fico (ex: \h SELECT)
\?          -- Lista todos os comandos do psql
\s          -- Mostrar histÃ³rico de comandos

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ QUERIES ÃšTEIS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

-- VersÃ£o do PostgreSQL
SELECT version();

-- Banco atual
SELECT current_database();

-- UsuÃ¡rio atual
SELECT current_user;

-- Data/hora do servidor
SELECT now();

-- Tamanho de um banco
SELECT pg_size_pretty(pg_database_size('nome_banco'));

-- Tamanho de uma tabela
SELECT pg_size_pretty(pg_total_relation_size('tabela'));

-- Listar conexÃµes ativas
SELECT * FROM pg_stat_activity;

-- Listar tabelas e tamanhos
SELECT tablename, pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables WHERE schemaname = 'public';

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” COMANDOS DE ADMINISTRAÃ‡ÃƒO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

-- Criar usuÃ¡rio
CREATE USER nome_usuario WITH PASSWORD 'senha';

-- Alterar senha
ALTER USER nome_usuario WITH PASSWORD 'nova_senha';

-- Conceder privilÃ©gios
GRANT ALL PRIVILEGES ON DATABASE banco TO usuario;
GRANT ALL PRIVILEGES ON TABLE tabela TO usuario;

-- Criar banco
CREATE DATABASE nome_banco OWNER usuario;

-- Ver permissÃµes
\dp tabela  -- PermissÃµes de uma tabela

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”— CONEXÃƒO REMOTA:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Conectar ao servidor remoto
psql -h 37.27.220.67 -p 5432 -U "meu_root\$marabet" -d marabet

# Com password
export PGPASSWORD='senha'
psql -h 37.27.220.67 -p 5432 -U "meu_root\$marabet" -d marabet

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‹ ATALHOS DE TECLADO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Up/Down     -- Navegar pelo histÃ³rico
Ctrl+D      -- Sair (equivalente a \q)
Ctrl+C      -- Cancelar query em execuÃ§Ã£o
Ctrl+L      -- Limpar tela
Ctrl+R      -- Buscar no histÃ³rico

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Dica: Para ajuda especÃ­fica dentro do psql, use:
   \h SELECT
   \h CREATE TABLE
   \h CREATE USER

ğŸ“š DocumentaÃ§Ã£o completa: COMANDOS_UTEIS_POSTGRESQL.md

